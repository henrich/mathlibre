COUNTRY=us
LANGUAGE=english
LANG=C
LOCALES=en_US.UTF-8
TIMEZONE=America/New_York
KEYBOARD_MODEL=$COUNTRY
KEYBOARD_LAYOUTS=$COUNTRY

lb config \
   --mirror-binary "http://ftp.debian.org/debian/" \
   --bootappend-live \
    "boot=live config quiet splash persistence\
    live-config.locales=$LOCALES \
    live-config.timezone=$TIMEZONE live-config.utc=no \
    live-config.keyboard-model=$KEYBOARD_MODEL \
    live-config.keyboard-layouts=$KEYBOARD_LAYOUTS"

#
# for tex
#
echo "auctex" > config/package-lists/lang.$LANGUAGE.tex.list.chroot
#
# for LatexMk
#
cat > config/includes.chroot/etc/LatexMk << EOF
\$pdflatex		= 'pdflatex -synctex=1';
\$pdflatex_silent	= 'pdflatex -synctex=1 -interaction=batchmode';
\$bibtex		= 'bibtex';
\$makeindex	= 'mendex %O -o %D %S';
\$max_repeat	= 5;
\$pdf_mode	= 1;
\$pdf_previewer	='start evince';
\$pdf_update_method = 1;
EOF

#
# for lxpanel
#
cat config/includes.chroot/etc/skel/.config/lxpanel/LXDE/panels/panel << EOF
# lxpanel <profile> config file. Manually editing is not recommended.
# Use preference dialog in lxpanel to adjust config when you can.

Global {
    edge=bottom
    allign=left
    margin=0
    widthtype=percent
    width=100
    height=26
    transparent=0
    tintcolor=#000000
    alpha=0
    autohide=0
    heightwhenhidden=2
    setdocktype=1
    setpartialstrut=1
    usefontcolor=0
    fontsize=10
    fontcolor=#000000
    usefontsize=0
    background=0
    backgroundfile=/usr/share/lxpanel/images/background.png
    iconsize=24
}

Plugin {
    type = space
    Config {
        Size=2
    }
}

Plugin {
    type = menu
    Config {
        image=/usr/share/lxde/images/lxde-icon.png
        system {
        }
        separator {
        }
        item {
            command=run
        }
        separator {
        }
        item {
            image=gnome-logout
            command=logout
        }
    }
}

Plugin {
    type = launchbar
    Config {
        Button {
            id=pcmanfm.desktop
        }
        Button {
            id=/usr/share/applications/gnome-terminal.desktop
        }
        Button {
            id=/usr/share/applications/firefox-esr.desktop
        }
        Button {
            id=/usr/share/applications/libreoffice-startcenter.desktop
        }
        Button {
            id=/usr/share/applications/lxrandr.desktop
        }
        Button {
            id=/usr/share/applications/setxkbmap-gadget.desktop
        }
    }
}

Plugin {
    type = space
    Config {
        Size=4
    }
}

Plugin {
    type = space
    Config {
        Size=4
    }
}

Plugin {
    type = space
    Config {
        Size=4
    }
}

Plugin {
    type = taskbar
    expand=1
    Config {
        tooltips=1
        IconsOnly=0
        ShowAllDesks=0
        UseMouseWheel=1
        UseUrgencyHint=1
        FlatButton=0
        MaxTaskWidth=150
        spacing=1
        GroupedTasks=0
    }
}

Plugin {
    type = pager
}

Plugin {
    type = volumealsa
}

Plugin {
    type = tray
}

Plugin {
    type = cpu
}

Plugin {
    type = dclock
    Config {
        ClockFmt=%R
        TooltipFmt=%A %x
        BoldFont=1
        IconOnly=0
        CenterText=0
    }
}

Plugin {
    type = launchbar
    Config {
        Button {
            id=lxde-screenlock.desktop
        }
        Button {
            id=lxde-logout.desktop
        }
    }
}

Plugin {
    type = xkb
    Config {
        DisplayType=1
        PerAppLayout=1
        DefaultGroup=0
	LayoutsList=us
    }
}

Plugin {
    type = batt
    Config {
        HideIfNoBattery=0
        AlarmTime=0
        BorderWidth=0
        Size=0
    }
}
EOF