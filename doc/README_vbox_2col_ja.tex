%#!platex
\documentclass[a4,twocolumn]{jsarticle}
\usepackage{fancyhdr}
\usepackage{url,listings}
\newcommand{\ir}{ir053\_portable\_x64}
\newcommand{\vboxwin}{VirtualBox-5.0.14-105127-Win.exe}
\newcommand{\vboxmac}{VirtualBox-5.0.14-105127-OSX.dmg}
\newcommand{\vm}{mathlibre-ja-vm}
\pagestyle{fancy}
\voffset=-0.5in
\textheight=720pt
\lstset{
  basicstyle=\small\ttfamily,
  keywordstyle=\color{black}\bfseries\underbar,
  stringstyle=\ttfamily,
  showstringspaces=false,
  frameround=tttt,
  frame=trbl
}
\lhead{\Large MathLibre: 仮想環境での利用方法}
\chead{}
\rhead{MathLibre Project}
\cfoot{}
%\pagestyle{empty}
\begin{document}
%\thispagestyle{empty}
%\maketitle
\paragraph{序}
MathLibreはDVD起動Linuxですが，
DVDをISOイメージファイルとしてハードディスクに置き，
仮想化ソフトウェアを用いて仮想環境を作ると，
WindowsやMacを使いながら同時に利用することができます．
以下に紹介する仮想環境 \vm.zip は既に設定済みですので，
継続的なホームディレクトリやパッケージの追加インストールも可能です．
ISOイメージファイルとホームディレクトリのため，約12GB以上の空き容量が必要です．

仮想化ソフトウェアとして，オープンソースソフトウェアの VirtualBox を利用します．
VirtualBoxは既存のオペレーティングシステム上のアプリケーションの一つとし
てインストールされ，この中で追加のオペレーティングシステムを動かすことが
できます．

%\section{Windowsの場合}
仮想環境作成に必要なファイルは\underline{DVD内のフォルダvboxにまとめてあります．}\paragraph{VirtualBoxのインストール}
ここではWindows上でMathLibreを動かす方法を解説します．Mac OS X の場合は必要なファイルをダウンロードすることで同様に可能です．
\begin{enumerate}
 \item MathLibre DVD内の \vboxwin もしくはネット上から最新版を取得し，管理者権限で実行してインストールします．
 \item MathLibre DVD内のファイル \vm.zip をドキュメント等の適当な場所に展開します．展開されたフォルダを \vm とします．
\end{enumerate}

\paragraph{DVDのISOイメージを取得}
ISOイメージの取得方法として「ダウンロード」と「DVDから作成」の2通りの方法があります．
\subparagraph{「ダウンロードして取得」}
ネットワーク環境が整っている場合には，
\url{http://www.mathlibre.org/}より
最新版のISOイメージファイル（約4GB）をダウンロードしてください．
ダウンロードしたら，先ほどのフォルダ \vm 内に移動させて，ファイル名をmathlibre.isoに変更してください．

\subparagraph{「DVDから作成」}
ネットワーク環境がない場合でもMathLibre DVDを使うことができれば，ISOイメージを作成できます．
DVDにWindowsアプリケーションInfraRecorderを同梱しています．
InfraRecorderを用いてハードディスク上にMathLibre DVDのISOイメージを作成
します．
\begin{enumerate}
 \item MathLibre DVD内の\ir.zipを適当な場所に展開します．
 \item \ir 内にあるinfrarecorder.exeを実行します．
 \item Read Discを選択します．
 \item Source:としてDVDドライブが選択されているはずです．
 \item Image file:として，先ほどのフォルダ \vm 内にmathlibre.isoを指定します．
 \item OKボタンを押すと，DVDの複製が始まります．
 \item 約4GBのISOイメージファイルを作成するのに約15分ほどかかります．
\end{enumerate}

\paragraph{仮想環境の起動}
すべての作業を終えたら，\vm 内の \vm.vbox をダブルクリックして
VirtualBox を起動してください．起動ボタンを押すと仮想環境が起動します．

\paragraph{共有フォルダの作成}
\begin{enumerate}
 \item VirtualBoxの設定アイコンから「共有フォルダー」の\verb|<+>|アイコンをクリックし，「フォルダーのパス」で共有したいフォルダーを指定，表示される「フォルダー名」（この名前は変更可能です．仮に\verb|X|とします．）を控え，「自動マウント」（および，もしあれば「永続化する」）にチェックを入れ，「OK」をクリックしてください．
 \item 仮想マシン上では，\verb|/media/sf_X| にマウントされます（\verb|X|は先に控えたフォルダー名）．この共有フォルダーを仮に\verb|Y|という名前でシンボリックリンク（ショートカットのようなもの）を作成します．端末で以下の命令を入力してください．
\begin{lstlisting}
ln -s /media/sf_X Y
\end{lstlisting}
\item ログアウト後，再ログイン（ユーザ名:user, パスワード live）すれば
\begin{lstlisting}
 ls Y
\end{lstlisting}
のようにアクセスできます．もちろんファイルマネージャPCManFMでGUIの利用も可能です．
\end{enumerate}

%\begin{thebibliography}{9}
% \bibitem{diskutil} Disk Utility 12.x: ディスク、CD、または DVD を複製する, \url{http://support.apple.com/kb/PH5846?viewlocale=ja_JP}
%\end{thebibliography}
\end{document}
